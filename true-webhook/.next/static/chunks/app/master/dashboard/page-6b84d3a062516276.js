(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[262],{9678:(s,e,a)=>{Promise.resolve().then(a.bind(a,2456))},2456:(s,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>i});var t=a(5155),l=a(2115),c=a(8173),d=a.n(c);function i(){let[s,e]=(0,l.useState)(null),[a,c]=(0,l.useState)([]),[i,r]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let s=localStorage.getItem("token");fetch("/api/master/overview",{headers:{Authorization:"Bearer ".concat(s)}}).then(s=>s.json()).then(s=>{s.ok&&(e(s.data.stats),c(s.data.recentNetworks)),r(!1)}).catch(()=>r(!1))},[]),i)?(0,t.jsx)("div",{className:"loading",children:(0,t.jsx)("div",{className:"spinner"})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"page-header",children:(0,t.jsx)("h1",{className:"page-title",children:"แดชบอร์ด"})}),(0,t.jsxs)("div",{className:"stats-grid",children:[(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-value",children:(null==s?void 0:s.networks)||0}),(0,t.jsx)("div",{className:"stat-label",children:"เครือข่ายทั้งหมด"})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-value",children:(null==s?void 0:s.users)||0}),(0,t.jsx)("div",{className:"stat-label",children:"ผู้ใช้ทั้งหมด"})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-value",children:(null==s?void 0:s.accounts)||0}),(0,t.jsx)("div",{className:"stat-label",children:"บัญชีทั้งหมด"})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-title",children:"เครือข่ายล่าสุด"}),0===a.length?(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("p",{children:"ยังไม่มีเครือข่าย"}),(0,t.jsx)(d(),{href:"/master/networks",className:"btn btn-primary",style:{marginTop:16},children:"สร้างเครือข่ายแรก"})]}):(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"ชื่อ"}),(0,t.jsx)("th",{children:"Prefix"}),(0,t.jsx)("th",{children:"บัญชี"}),(0,t.jsx)("th",{children:"สถานะ"})]})}),(0,t.jsx)("tbody",{children:a.map(s=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:s.name}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:s.prefix})}),(0,t.jsx)("td",{children:s._count.accounts}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:"badge ".concat(s.isActive?"badge-success":"badge-error"),children:s.isActive?"ใช้งาน":"ปิด"})})]},s.id))})]})]})]})}}},s=>{var e=e=>s(s.s=e);s.O(0,[173,441,517,358],()=>e(9678)),_N_E=s.O()}]);